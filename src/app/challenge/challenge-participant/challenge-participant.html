@let participant = participantData.value();

<h3>
  <a [routerLink]="['/results']">{{ 'challengeParticipant.linkBack' | translate }}</a>
</h3>

@if (participant) {
  <div>
    <h1>
      {{ participant.isCompleted | completedChallenge }} {{ participant.firstName }}
      {{ participant.lastName }}
    </h1>
    <div style="margin-top: 10px; margin-bottom: 10px">
      <div>{{ 'participant.position' | translate }}: {{ participant.position }}</div>
      <div>
        {{ 'participant.ageCategoryPosition' | translate }}:
        {{ participant.positionByAgeCategory }}
      </div>
      <div>
        {{ 'challengeParticipant.goalProgress' | translate }}: {{ participant.progress }}% -
        {{
          participant.isCompleted === true
            ? ('challengeParticipant.completed' | translate)
            : ('challengeParticipant.inProgress' | translate)
        }}
      </div>
    </div>
    <div>
      <img [src]="participant.countryAlpha2Code | countryFlag" alt="{{ participant.country }}" />
      &nbsp; {{ participant.country }}
    </div>
    <div>
      {{ participant.gender }} - {{ participant.age }}
      {{ 'challengeParticipant.years' | translate }}
    </div>
    <div>{{ 'participant.ageCategory' | translate }}: {{ participant.ageCategory }}</div>
  </div>
  <div style="margin-top: 10px; margin-bottom: 10px">
    <div>
      {{ 'activity.distance' | translate }}:
      {{ participant.distanceInMeters | distance }}
    </div>
    <div>{{ 'participant.time' | translate }}: {{ participant.durationInSeconds | duration }}</div>
    <div>
      {{ 'participant.pace' | translate }}:
      {{ participant.averagePaceInMinutesPerKilometer | pace }}
    </div>
    <div>
      {{ 'participant.elevationGain' | translate }}:
      {{ participant.elevationGainInMeters | elevation }}
    </div>
    <div>
      {{ 'participant.elevationLoss' | translate }}:
      {{ participant.elevationLossInMeters | elevation }}
    </div>
    <div>
      {{ 'participant.heartRate' | translate }}:
      {{ participant.averageHeartRateInBeatsPerMinute | heartRate }}
    </div>
    <div>{{ 'participant.calories' | translate }}: {{ participant.calories | calories }}</div>
    <div>{{ 'participant.activities' | translate }}: {{ participant.numberOfActivities }}</div>
  </div>

  <app-participant-activities-table
    [activitiesData]="participant.activities"
  ></app-participant-activities-table>
}
