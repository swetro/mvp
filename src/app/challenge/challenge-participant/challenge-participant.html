@let participant = participantData.value();

<h3>
  <a [routerLink]="['/', currentLanguage, 'leaderboard', slug()]">{{
    'challengeParticipant.linkBack' | translate
  }}</a>
</h3>

@if (participant) {
  <section>
    <div class="mt-10 mb-20">
      <div>
        <h1>
          {{ participant.isCompleted | completedChallenge }} {{ participant.firstName }}
          {{ participant.lastName }}
        </h1>
        <div style="margin-top: 10px; margin-bottom: 10px">
          <div>{{ 'participant.position' | translate }}: {{ participant.position }}</div>
          <div>
            {{ 'participant.ageCategoryPosition' | translate }}:
            {{ participant.positionByAgeCategory }}
          </div>
          <div>
            {{ 'challengeParticipant.goalProgress' | translate }}: {{ participant.progress }}% -
            {{
              participant.isCompleted === true
                ? ('challengeParticipant.completed' | translate)
                : ('challengeParticipant.inProgress' | translate)
            }}
          </div>
        </div>
        <div>
          <img
            [src]="participant.countryAlpha2Code | countryFlag"
            alt="{{ participant.country }}"
          />
          &nbsp; {{ participant.country }}
        </div>
        <div>
          {{ participant.gender }} - {{ participant.age }}
          {{ 'challengeParticipant.years' | translate }}
        </div>
        <div>{{ 'participant.ageCategory' | translate }}: {{ participant.ageCategory }}</div>
      </div>
      <div style="margin-top: 10px; margin-bottom: 10px">
        <div>
          {{ 'activity.distance' | translate }}:
          {{ participant.distanceInMeters | distance }}
        </div>
        <div>
          {{ 'participant.time' | translate }}: {{ participant.durationInSeconds | duration }}
        </div>
        <div>
          {{ 'participant.pace' | translate }}:
          {{ participant.averagePaceInMinutesPerKilometer | pace }}
        </div>
        <div>
          {{ 'participant.elevationGain' | translate }}:
          {{ participant.elevationGainInMeters | elevation }}
        </div>
        <div>
          {{ 'participant.elevationLoss' | translate }}:
          {{ participant.elevationLossInMeters | elevation }}
        </div>
        <div>
          {{ 'participant.heartRate' | translate }}:
          {{ participant.averageHeartRateInBeatsPerMinute | heartRate }}
        </div>
        <div>{{ 'participant.calories' | translate }}: {{ participant.calories | calories }}</div>
        <div>{{ 'participant.activities' | translate }}: {{ participant.numberOfActivities }}</div>
      </div>

      @if (participant.activities.length > 0) {
        <app-participant-activities-table
          [activitiesData]="participant.activities"
        ></app-participant-activities-table>
      } @else {
        <div class="text-center py-12 rounded-lg border border-slate-300">
          <svg
            class="mx-auto h-16 w-16 text-slate-400 mb-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
            />
          </svg>
          <h3 class="mt-2 text-sm font-medium text-slate-900">No activities found</h3>
          <p class="mt-1 text-sm text-slate-500">
            {{ 'challengeParticipant.noActivities' | translate }}
          </p>
        </div>
      }
    </div>
  </section>
}
